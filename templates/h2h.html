{% extends 'base.html' %}

{% block header %}Head To Head{% endblock %}

{% block description %}Make an hypothetic prediction.{% endblock %}

{% block content %}
<div class="container">
    <div class="text-center row">
        <div class="col-sm">
        <h1>Home</h1><br>
        {% if not first_team %}
        <button type="button" class="btn btn-primary btn-xlg-2" data-toggle="modal" data-target="#firstTeamModal">+</button>
        {% else %}
        <img src="{{first_team["team_badge"]}}">
        <br>
        <p>{{ first_team["team_name"] }}</p>
        {% endif %}
        
        </div>

        <div class="col-sm">
        <br>
        <h2>VS.</h2>
        
        </div>

        <div class="col-sm">
        <h1>Away</h1><br>
        {% if first_team and not second_team %}
        <button type="button" class="btn btn-primary btn-xlg-2" data-toggle="modal" data-target="#secondTeamModal">+</button>
        {% endif %}
        {% if second_team %}
        <img src="{{second_team["team_badge"]}}">
        <br>
        <p>{{ second_team["team_name"] }}</p>
        {% endif %}
        </div>
    </div>
</div>


<!-- First Modal -->
<div id="firstTeamModal" class="modal fade" role="dialog">
  <div class="modal-dialog modal-md">

    <!-- Modal content-->
    <div class="modal-content">
      <div class="modal-header">
        <h4 class="modal-title">Team Picker</h4>
        <button type="button" class="close" data-dismiss="modal">&times;</button>
      </div>
      <div class="modal-body">
        <form action="/h2h/select" method="post">
            <p>
                <label for="teamIdHome">Team</label>
                <select class="form-control" name="teamIdHome" id="teamIdHome">
                {% for league_name in all_teams %}
                  <optgroup label="{{league_name}}">
                  {% for team in all_teams[league_name] %}
                  <option value="{{ team["team_key"] }}">{{ team["team_name"] }}</option>
                  {% endfor %}
                  </optgroup>
                {% endfor %}
                </select>
            </p>
        <p class="text-center"><input class="btn btn-secondary" type="submit" value="Select Team"></p>
        </form>
      </div>
    </div>

  </div>
</div>


<!-- Second Modal -->
<div id="secondTeamModal" class="modal fade" role="dialog">
  <div class="modal-dialog modal-md">

    <!-- Modal content-->
    <div class="modal-content">
      <div class="modal-header">
        <h4 class="modal-title">Team Picker</h4>
        <button type="button" class="close" data-dismiss="modal">&times;</button>
      </div>
      <div class="modal-body">
        <form action="/h2h/select" method="post">
            <p>
                <label for="teamIdAway">Team</label>
                <select class="form-control" name="teamIdAway" id="teamIdAway">
                {% for league_name in all_teams %}
                  <optgroup label="{{league_name}}">
                  {% for team in all_teams[league_name] %}
                  <option value="{{ team["team_key"] }}">{{ team["team_name"] }}</option>
                  {% endfor %}
                  </optgroup>
                {% endfor %}
                </select>
                {% if first_team %}
                <input type="hidden" name="teamIdHome" value="{{first_team["team_key"]}}">
                {% endif %}
            </p>
            <p class="text-center"><input class="btn btn-secondary" type="submit" value="Select Team"></p>
        </form>
      </div>
    </div>

  </div>
</div>

</form>
{% endblock %}